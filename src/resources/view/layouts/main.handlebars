<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{title}} </title>
  <link rel="icon" href="/img/black_on_trans.png">
  <!-- Link Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=arrow_forward" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" href="/css/homepage.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Link custom CSS (nếu cần) -->
  <style>
    @font-face {
      font-family: 'MightiestFont';
      src: url('/fonts/SVN-Mightiest.otf') format('opentype');
    }

    @font-face {
      font-family: 'NorthCarossela';
      src: url('/fonts/SVN-North Carossela.otf') format('opentype');
    }

    @font-face {
      font-family: 'SwissquoteRegular';
      src: url('/fonts/SVN-Swissquote Regular.ttf') format('opentype');
    }

    @font-face {
      font-family: 'AudreyFont';
      src: url('/fonts/SVN-Audrey.otf') format('opentype');
    }
  </style>
</head>

<body>
  <!-- Header -->
  {{>header}}

  <!-- Hero Banner (Carousel) -->
  {{{body}}}

  <!-- Footer -->
  {{>footer}}

  <!-- Bootstrap JS Bundle (bao gồm Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $('.product-slider').slick({
        slidesToShow: 5,
        slidesToScroll: 5,
        arrows: true,
        prevArrow: $('.slick-prev'),
        nextArrow: $('.slick-next'),
        infinite: false,
      });
    });
  </script>
  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
  <script>
    var swiper = new Swiper('.homepage-product-swiper', {
      slidesPerView: 6, // số slide hiển thị, có thể thay đổi theo nhu cầu
      spaceBetween: 30, // khoảng cách giữa các slide
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        // Tùy chỉnh responsive
        768: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 4,
        },
        1200: {
          slidesPerView: 6,
        }
      }
    });
  </script>
  <script src="js/category-homepage.js"></script>
  {{!-- categories-section --}}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const container = document.querySelector(".categories-container");
      const prevBtn = document.querySelector(".prev-btn");
      const nextBtn = document.querySelector(".next-btn");

      const scrollAmount = 300;
      const scrollDuration = 500;

      function smoothScroll(target, duration) {
        const start = container.scrollLeft;
        const distance = target - start;
        let startTime = null;

        function animation(currentTime) {
          if (!startTime) startTime = currentTime;
          const timeElapsed = currentTime - startTime;
          const run = ease(timeElapsed, start, distance, duration);
          container.scrollLeft = run;
          if (timeElapsed < duration) requestAnimationFrame(animation);
        }

        function ease(t, b, c, d) {
          t /= d / 2;
          if (t < 1) return (c / 2) * t * t + b;
          t--;
          return (-c / 2) * (t * (t - 2) - 1) + b;
        }

        requestAnimationFrame(animation);
      }

      prevBtn.addEventListener("click", () => {
        const target = Math.max(container.scrollLeft - scrollAmount, 0);
        smoothScroll(target, scrollDuration);
      });

      nextBtn.addEventListener("click", () => {
        const maxScroll = container.scrollWidth - container.clientWidth;
        const target = Math.min(container.scrollLeft + scrollAmount, maxScroll);
        smoothScroll(target, scrollDuration);
      });

      const items = document.querySelectorAll(".category-item");
      items.forEach((item, index) => {
        setTimeout(() => {
          item.classList.add("animate");
        }, index * 100);
      });
    });
  </script>


  <!-- Link tới icon Bootstrap Icons nếu cần -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
</body>

</html>