<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <style>
        /* General Button Styles */
        .btn-primary, .edit-btn, .delete-btn, .add-variant-btn, .action-btn, .edit-order-btn, .view-order-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .btn-primary, .view-order-btn , .edit-order-btn{
            background-color: #007bff;
            color: #fff;
        }

        .btn-primary:hover, .view-order-btn:hover, .edit-order-btn:hover  {
            background-color: #0056b3;
        }

        .edit-btn {
            background-color: #ffc107;
            color: #fff;
        }

        .edit-btn:hover{
            background-color: #e0a800;
        }

        .delete-btn {
            background-color: #dc3545;
            color: #fff;
        }

        .delete-btn:hover {
            background-color: #c82333;
        }

        .add-variant-btn {
            background-color: #6c757d;
            color: #fff;
            margin-top: 10px;
        }

        .add-variant-btn:hover {
            background-color: #5a6268;
            transform: scale(1.05);
        }

        .action-btn {
            padding: 5px 10px;
            border-radius: 3px;
        }

        .view-btn {
            background-color: #17a2b8;
            color: #fff;
        }

        .view-btn:hover {
            background-color: #138496;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table th, table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        table th {
            background-color: #f4f4f4;
            font-weight: bold;
        }

        table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        table tr:hover {
            background-color: #f1f1f1;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            overflow: auto;
        }

        .modal {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .modal h3 {
            margin-top: 0;
            font-size: 1.5rem;
            color: #333;
        }

        .modal p {
            margin: 10px 0;
            font-size: 1rem;
            color: #555;
        }

        .modal label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
            color: #333;
        }

        .modal input, .modal textarea, .modal select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1rem;
        }

        .modal .modal-actions {
            text-align: right;
            margin-top: 20px;
        }

        .modal .modal-actions button {
            margin-left: 10px;
        }

        .modal .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
            font-size: 1.2rem;
            color: #555;
            background: none;
            border: none;
        }

        .modal .close-btn:hover {
            color: #000;
        }

        /* Variant Block Styles */
        .variant-block {
            margin-top: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            background: #f1f1f1;
            border-radius: 6px;
        }

        .variant-block strong {
            display: block;
            margin-bottom: 10px;
        }

        /* Status Badge Styles */
        .status {
            padding: 5px 10px;
            border-radius: 3px;
            color: #fff;
            font-size: 12px;
            text-transform: capitalize;
        }

        .status.pending {
            background-color: #ffc107;
        }

        .status.cancelled {
            background-color: #dc3545;
        }

        .status.delivered {
            background-color: #28a745;
        }

        /* Order Details Modal Styles */
        .order-details-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .order-details-table th, .order-details-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .order-details-table th {
            background-color: #f4f4f4;
            font-weight: bold;
        }

        .order-details-table img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
        }

        .order-details-table td {
            vertical-align: middle;
        }

        .order-details-header {
            margin-bottom: 20px;
        }

        .order-details-header h3 {
            margin: 0;
            font-size: 1.5rem;
            color: #333;
        }

        .order-details-header p {
            margin: 5px 0;
            font-size: 1rem;
            color: #555;
        }

        .modal - overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align - items: center;
            justify - content: center;
            z - index: 9999;
            overflow: auto;
        }
    .modal {
            background: #fff;
            border - radius: 8px;
            padding: 20px;
            width: 95 %;
            max - width: 800px;
            max - height: 95vh;
            overflow - y: auto;
            box - shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            position: relative;
        }
    .modal label {
            display: block;
            margin - top: 10px;
            font - weight: bold;
        }
    .modal input, .modal select, .modal textarea {
            width: 100 %;
            margin - top: 5px;
            padding: 8px;
            border: 1px solid #ccc;
            border - radius: 4px;
            box - sizing: border - box;
        }
    .modal button[type = "submit"] {
            margin - top: 15px;
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border - radius: 5px;
            cursor: pointer;
        }
    .modal.close - btn {
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
            font - size: 18px;
            color: #555;
        }
    .variant - block {
            margin - top: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            background: #f1f1f1;
            border - radius: 6px;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <h2>QUẢN TRỊ VIÊN</h2>
            <p>Trang quản trị viên cửa hàng</p>
            <ul>
                <li class="active"><i class="fas fa-home"></i> Trang chủ</li>
                <li><i class="fas fa-list"></i> Categories và Brands</li>
                <li><i class="fas fa-box"></i> Quản lý đơn hàng</li>
                <li><i class="fas fa-cube"></i> Quản lý sản phẩm</li>
                <li><i class="fas fa-users"></i> Quản lý người dùng</li>
                <li><i class="fas fa-chart-bar"></i> Thống kê</li>
                <li><i class="fas fa-warehouse"></i> Kho</li>
            </ul>
            <a href="/logout" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Trang chủ -->
            <div class="content-section" id="trang-chu" style="display: block;">
                <h1>Bảng điều khiển</h1>
                <p>Xin chào! Đây là bảng điều khiển của bạn</p>
                <!-- Stats Cards -->
                <div class="stats">
                    <div class="stat-card">
                        <h3>Tổng người dùng</h3>
                        <p>1,249</p>
                        <span class="increase">+5.3% <i class="fas fa-arrow-up"></i> so với tháng trước</span>
                    </div>
                    <div class="stat-card">
                        <h3>Sản phẩm</h3>
                        <p>458</p>
                        <span class="increase">+2.7% <i class="fas fa-arrow-up"></i> so với tháng trước</span>
                    </div>
                    <div class="stat-card">
                        <h3>Đơn hàng</h3>
                        <p>64</p>
                        <span class="decrease">-0.5% <i class="fas fa-arrow-down"></i> so với tháng trước</span>
                    </div>
                    <div class="stat-card">
                        <h3>Doanh thu</h3>
                        <p>16.5M đ</p>
                        <span class="increase">+12.1% <i class="fas fa-arrow-up"></i> so với tháng trước</span>
                    </div>
                </div>
                <!-- Main Sections -->
                <div class="sections">
                    <!-- Orders Table -->
                    <div class="orders">
                        <h2>Đơn hàng gần đây</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Mã đơn</th>
                                    <th>Khách hàng</th>
                                    <th>Giá trị</th>
                                    <th>Trạng thái</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#ORD-5132</td>
                                    <td>Nguyễn Văn A</td>
                                    <td>1,250,000 đ</td>
                                    <td><span class="status delivered">Đã giao</span></td>
                                </tr>
                                <!-- Giữ nguyên dữ liệu mẫu -->
                            </tbody>
                        </table>
                    </div>
                    <!-- Product Stats -->
                    <div class="product-stats">
                        <h2>Sản phẩm bán chạy</h2>
                        <ul>
                            <li>Áo thun nam cơ bản <span class="count">124 đơn</span> <span class="profit">45 lợi
                                    nhuận</span></li>
                            <!-- Giữ nguyên dữ liệu mẫu -->
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Quản lý người dùng -->
            <div class="content-section" id="quan-ly-nguoi-dung" style="display: none;">
                <h1>Quản lý người dùng</h1>
                <p>Đây là trang quản lý người dùng của bạn.</p>
                <div class="orders">
                    <h2>Danh sách người dùng</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Mã người dùng</th>
                                <th>Tên người dùng</th>
                                <th>Email</th>
                                <th>Số điện thoại</th>
                                <th>Địa chỉ</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each users}}
                            <tr>
                                <td>{{this.userId}}</td>
                                <td>{{this.fullName}}</td>
                                <td>{{this.email}}</td>
                                <td>{{this.phone}}</td>
                                <td>{{this.address}}</td>
                                <td>
                                    {{#if this.isActive}}
                                    <span class="status delivered">Hoạt động</span>
                                    {{else}}
                                    <span class="status cancelled">Không hoạt động</span>
                                    {{/if}}
                                </td>
                            </tr>
                            {{else}}
                            <tr>
                                <td colspan="6">Không có người dùng nào để hiển thị.</td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Quản lý đơn hàng -->
            <div class="content-section" id="quan-ly-don-hang" style="display: none;">
                <h1>Quản lý đơn hàng</h1>
                <p>Đây là trang quản lý đơn hàng của bạn.</p>
                <div class="orders">
                    <h2>Danh sách đơn hàng</h2>
                    <button id="reload-orders">Tải lại đơn hàng</button>
                    <table>
                        <thead>
                            <tr>
                                <th>Mã đơn hàng</th>
                                <th>Tên người nhận</th>
                                <th>SĐT</th>
                                <th>Địa chỉ </th>
                                <th>Thành tiền</th>
                                <th>PTTT</th>
                                <th>Trạng thái</th>
                                <th>Ngày tạo</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each orders}}
                            <tr>
                                <td>{{this.order_id}}</td>
                                <td>{{this.recipient_name}}</td>
                                <td>{{this.recipient_phone}}</td>
                                <td>{{this.shipping_address}}</td>
                                <td>{{this.amount_paid}} đ</td>
                                <td>{{this.payment_method}}</td>
                                <td>
                                    {{#if (eq this.status "pending")}}
                                    <span class="status pending">Đang xử lý</span>
                                    {{else if (eq this.status "cancelled")}}
                                    <span class="status cancelled">Đã hủy</span>
                                    {{else}}
                                    <span class="status delivered">Hoàn thành</span>
                                    {{/if}}
                                </td>
                                <td>{{this.created_at}}</td>
                                <td>
                                    <button class="action-btn view-order-btn" data-id="{{this.order_id}}">Xem</button>
                                    <button class="action-btn edit-order-btn" data-id="{{this.order_id}}">Sửa</button>
                                </td>
                            </tr>
                            {{else}}
                            <tr>
                                <td colspan="12">Không có đơn hàng nào để hiển thị.</td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Quản lý sản phẩm -->
            <div class="content-section" id="quan-ly-san-pham" style="display: none;">
                <h1>Quản lý sản phẩm</h1>
                <p>Đây là trang quản lý sản phẩm của bạn.</p>

                <!-- Add Product Button -->
                <div class="mb-3">
                    <button class="btn btn-primary" id="addProductBtn">+ Thêm sản phẩm</button>
                </div>

                <!-- Danh sách sản phẩm -->
                <div class="orders">
                    <h2>Danh sách sản phẩm</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Mã sản phẩm</th>
                                <th>Tên sản phẩm</th>
                                <th>Giá</th>
                                <th>Tồn kho</th>
                                <th>Trạng thái</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="productTableBody">
                            {{#each products}}
                            <tr data-id="{{this.id}}">
                                <td>{{this.id}}</td>
                                <td>{{this.name}}</td>
                                <td>{{this.price}}</td>
                                <td>{{this.stock}}</td>
                                <td>
                                    {{#if this.isInStock}}
                                    <span class="status delivered">Còn hàng</span>
                                    {{else}}
                                    <span class="status cancelled">Hết hàng</span>
                                    {{/if}}
                                </td>
                                <td>
                                    <button class="edit-btn" id={{this.id}}>Sửa</button>
                                    <button class="delete-btn">Xóa</button>
                                </td>
                            </tr>
                            {{else}}
                            <tr>
                                <td colspan="6">Không có sản phẩm nào để hiển thị.</td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>

                </div>
            </div>

            <!-- Thống kê -->
            <div class="content-section" id="thong-ke" style="display: none;">
                <h1>Thống kê</h1>
                <p>Đây là trang thống kê của bạn.</p>
                <!-- Nội dung giữ nguyên -->
            </div>

            <!-- Kho -->
            <div class="content-section" id="kho" style="display: none;">
                <h1>Kho</h1>
                <p>Đây là trang quản lý kho của bạn.</p>
                <!-- Nội dung giữ nguyên -->
            </div>
        </div>
    </div>
    <script>
        window.authToken = "{{headers.Authorization}}";
    </script>




    <script src="/js/dashboard.js"></script>
</body>

</html>